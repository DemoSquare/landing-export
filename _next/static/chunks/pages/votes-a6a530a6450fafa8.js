(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{15495:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/votes",function(){return t(17020)}])},22259:function(e,n,t){"use strict";t.d(n,{Ae:function(){return u},Pp:function(){return c},WB:function(){return a},u$:function(){return s}});var i=t(8100),r=t(44593),o=t(83276);function s(e){var n=(0,o.a)(),t=e?"/votes/?limit=".concat(e):"/votes",r=(0,i.ZP)(t,n.fetcher),s=r.data;return{votes:s,isLoading:!s,isError:r.error}}function c(e){var n=(0,o.a)(),t=e?"/votes/councillor/".concat(e):null,r=(0,i.ZP)(t,n.fetcher),s=r.data;return{votes:s,votesIsLoading:!s||!e,votesIsError:r.error}}function a(e){var n=(0,o.a)(),t=e?"/votes/affair/".concat(e):null,r=(0,i.ZP)(t,n.fetcher),s=r.data,c=r.error;return{votes:s,votesIsLoading:!s||!e,votesIsError:c}}function u(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fr",i=function(e,n){if(n&&!n.length)return null;var i=e*recordsPerPage,r=(e+1)*recordsPerPage;return r?"/votes/?language=".concat(t,"&skip=").concat(i,"&limit=").concat(r):"/votes"},s=(0,o.a)(),c=(0,r.ZP)(i,s.fetcher),a=c.data,u=c.error,l=c.size,d=c.setSize,x=!a&&!u,h=x||l>0&&a&&"undefined"===typeof a[l-1],f=0===(null===a||void 0===a||null===(e=a[0])||void 0===e?void 0:e.length),v=f||a&&(null===(n=a[a.length-1])||void 0===n?void 0:n.length)<recordsPerPage;return{isLoading:!a,results:a,size:l,setSize:d,isError:u,isLoadingMore:h,isEmpty:f,isReachingEnd:v}}},17020:function(e,n,t){"use strict";t.r(n);var i=t(85893),r=t(11163),o=(t(67294),t(83321)),s=t(86886),c=t(22259),a=t(3291);function u(){(0,r.useRouter)().query.limit;var e=(0,c.Ae)(),n=e.results,t=e.isLoading,u=e.size,l=e.setSize,d=e.isLoadingMore,x=e.isReachingEnd;return(0,i.jsx)(s.ZP,{container:!0,spacing:4,children:!t&&(0,i.jsxs)(i.Fragment,{children:[n.map((function(e){return e.map((function(e,n){return(0,i.jsx)(s.ZP,{item:!0,md:3,children:(0,i.jsx)(a.Z,{vote:e})},e.vote_id)}))})),(0,i.jsx)(s.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",sx:{p:5},children:(0,i.jsx)(o.Z,{onClick:function(){return l(u+1)},disabled:d||x,children:d?"Loading...":x?"":"Load more"})})]})})}u.acl={action:"read",subject:"acl-page"},n.default=u},3291:function(e,n,t){"use strict";var i=t(85893),r=t(41664),o=t.n(r),s=t(67599),c=t(84918),a=t(87357),u=t(26447),l=t(93946),d=t(11496),x=t(66242),h=t(44267),f=t(15861),v=t(41800),p=t(60058),g=(0,d.ZP)(f.Z)({fontWeight:500,fontSize:"12px",lineHeight:"16px",color:"#9FABC6"}),j=(0,d.ZP)(f.Z)({fontSize:"12px",fontWeight:"600",lineHeight:"18px",color:"#000000",letterSpacing:"0em",cursor:"pointer"});n.Z=function(e){var n=e.vote,t=e.followOnTop,r=void 0===t||t,d={pathname:"/votes/[id]",query:{id:n.vote_id}};return(0,i.jsx)(x.Z,{variant:"outlined",sx:{height:"100%",minWidth:"270px",maxWidth:"320px"},children:(0,i.jsxs)(h.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,i.jsxs)(a.Z,{children:[(0,i.jsxs)(u.Z,{direction:"row",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(v.Z,{label:"Federal Council"}),r&&(0,i.jsx)(l.Z,{color:"primary","aria-label":"follow",sx:{p:0},children:(0,i.jsx)(s.Z,{})})]}),(0,i.jsx)(o(),{href:d,passHref:!0,children:(0,i.jsx)(j,{sx:{mt:2},children:n.affair_title})}),(0,i.jsxs)(u.Z,{direction:"row",spacing:4,sx:{mt:1},children:[(0,i.jsx)(g,{children:n.affair_short_number}),(0,i.jsxs)(g,{children:[(0,i.jsx)(c.Z,{fontSize:"xs"})," ",n.vote_date]})]})]}),(0,i.jsx)(p.Z,{vote:n,variant:"compact",sx:{mt:3}})]})})}},41800:function(e,n,t){"use strict";var i=t(26042),r=t(69396),o=t(99534),s=t(85893),c=t(41664),a=t.n(c),u=t(67294),l=t(87918),d=t(2734),x=t(91379),h=(0,u.forwardRef)((function(e,n){var t=e.variant,c=e.inline,u=e.label,h=e.href,f=void 0===h?void 0:h,v=(0,o.Z)(e,["variant","inline","label","href"]),p=(0,d.Z)();t||(t="default");var g={height:"23px",backgroundColor:p.palette[t][200],color:p.palette[t][800],fontWeight:500,lineHeight:"15px",fontSize:"12px",borderRadius:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"180px","&:hover":{cursor:f?"pointer":"cursor"}};return c&&(g.px=0,g.mx=1),v.sx&&(g=(0,i.Z)({},g,v.sx)),(0,s.jsx)(x.M,{condition:f,wrapper:function(e){return(0,s.jsx)(a(),{passHref:!0,href:f,children:e})},children:(0,s.jsx)(l.Z,(0,r.Z)((0,i.Z)({},v),{ref:n,label:u,sx:g}))})}));n.Z=h},11303:function(e,n,t){"use strict";t.d(n,{r:function(){return s},s:function(){return c}});var i=t(85893),r=t(87357),o=t(41800);function s(e){var n,t;switch(e.outcome.toLowerCase()){case"yes":n="Yes",t="mauve";break;case"no":n="No",t="pink";break;case"abstention":n="Abst",t="ocean"}return(0,i.jsx)(o.Z,{label:n,variant:t,sx:{width:"52px"}})}function c(e){var n=e.outcome;return n&&["yes","no","abstention"].includes(n.toLowerCase())?(0,i.jsx)(r.Z,{width:52,height:23}):null}},60058:function(e,n,t){"use strict";var i=t(85893),r=t(11496),o=t(87357),s=t(67720),c=t(26447),a=t(15861),u=t(11303),l=(0,r.ZP)(a.Z)({marginTop:5,fontWeight:600,fontSize:"12px",lineHeight:"10px",color:"#54658C",textAlign:"center"}),d=(0,r.ZP)(a.Z)({fontWeight:500,fontSize:"13px",lineHeight:"16px",color:"#000000"}),x=(0,r.ZP)(a.Z)({fontWeight:400,fontSize:"14px",lineHeight:"18px",color:"#60739F"}),h=(0,r.ZP)(a.Z)({fontWeight:600,fontSize:"14px",lineHeight:"20px",color:"#000000"}),f=(0,r.ZP)(a.Z)({fontWeight:300,fontSize:"14px",lineHeight:"20px",color:"#000000"});function v(e){var n=e.count;return(0,i.jsxs)(x,{children:["Excused/absent: ",n," councillors"]})}function p(e){var n=e.vote,t=e.variant,r=e.whiteBg,a={fontSize:"compact"===t?"12px":"14px",lineHeight:"compact"===t?"16px":"20px"},u={xs:"100%",md:"compact"===t?"100%":"33%"};return(0,i.jsx)(i.Fragment,{children:n.meaning_yes&&n.meaning_no&&(0,i.jsx)(o.Z,{backgroundColor:r?"#FFF":"#FAFBFF",p:4,sx:{maxWidth:u},children:(0,i.jsxs)(c.Z,{direction:"row",spacing:5,divider:(0,i.jsx)(s.Z,{orientation:"vertical",flexItem:!0}),children:[(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(h,{sx:a,children:"Yes"}),(0,i.jsx)(f,{sx:a,children:n.meaning_yes})]}),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(h,{sx:a,children:"No"}),(0,i.jsx)(f,{sx:a,children:n.meaning_no})]})]})})})}function g(e){var n,t,r=e.value,s=e.width,c=e.type,a=e.variant,u="compact"===a?40:10;switch(c){case"yes":n="#8D91FF",t=r>u?"Yes: "+r:r;break;case"abstention":n="#A3E4F9",t=r>u?"Abst: "+r:r;break;case"no":n="#F9A3E1",t=r>u?"No: "+r:r}return(0,i.jsxs)(o.Z,{width:s,flexDirection:"column",children:[(0,i.jsx)(o.Z,{width:"100%",height:"compact"===a?12:20,backgroundColor:n,borderRadius:"3px"}),(0,i.jsx)(l,{children:t})]})}function j(e){var n=e.vote,t=e.variant,r=n.yes_count+n.abstention_count+n.no_count,s=n.absence_count+n.excused_count+n.did_not_participate_count;return(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(c.Z,{direction:"row",spacing:1,sx:{mb:2},children:[n.yes_count>0?(0,i.jsx)(g,{value:n.yes_count,width:n.yes_count/r,type:"yes",variant:t}):(0,i.jsx)(i.Fragment,{}),n.abstention_count?(0,i.jsx)(g,{value:n.abstention_count,width:n.abstention_count/r,type:"abstention",variant:t}):(0,i.jsx)(i.Fragment,{}),n.no_count?(0,i.jsx)(g,{value:n.no_count,width:n.no_count/r,type:"no",variant:t}):(0,i.jsx)(i.Fragment,{})]}),"compact"===t?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(v,{count:s})]})}n.Z=function(e){var n=e.vote,t=e.variant,r=void 0===t?"default":t,o=e.whiteBg,s=void 0!==o&&o,a=e.sx,l=void 0===a?{}:a,x=n.vote_result>.5?"Yes":"No",h=(100*n.vote_result).toFixed(0);return(0,i.jsxs)(c.Z,{direction:"column",spacing:"compact"===r?2:5,sx:l,children:[(0,i.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,i.jsx)(u.r,{outcome:x}),(0,i.jsxs)(d,{children:[h,"%",n.vote_title?" \u2013 "+n.vote_title:""]})]}),(0,i.jsx)(j,{vote:n,variant:r}),(0,i.jsx)(p,{vote:n,variant:r,whiteBg:s})]})}},91379:function(e,n,t){"use strict";function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-UK",t={year:"numeric",month:"long",day:"numeric"};return new Date(Date.parse(e)).toLocaleDateString(n,t)}function r(e){var n=e.condition,t=e.wrapper,i=e.children;return n?t(i):i}t.d(n,{M:function(){return r},p:function(){return i}})}},function(e){e.O(0,[143,105,774,888,179],(function(){return n=15495,e(e.s=n);var n}));var n=e.O();_N_E=n}]);