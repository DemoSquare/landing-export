(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{93619:function(e,t,n){"use strict";var i=n(95318);t.Z=void 0;var r=i(n(64938)),s=n(85893),o=(0,r.default)((0,s.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=o},90432:function(e,t,n){"use strict";var i=n(95318);t.Z=void 0;var r=i(n(64938)),s=n(85893),o=(0,r.default)((0,s.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"}),"Bookmark");t.Z=o},81216:function(e,t,n){"use strict";var i=n(95318);t.Z=void 0;var r=i(n(64938)),s=n(85893),o=(0,r.default)((0,s.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList");t.Z=o},77183:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(25233)}])},22453:function(e,t,n){"use strict";n.d(t,{gm:function(){return a},kf:function(){return o}});var i=n(8100),r=n(44593),s=n(83276);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"submitted-desc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=(0,s.a)(),r="/affairs/?order=".concat(e,"&limit=").concat(t),o=(0,i.ZP)(r,n.fetcher),a=o.data,c=o.error;return{affairs:a,isLoading:!a,isError:c}}function a(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=function(t,n){if(n&&!n.length)return null;var r=t*i,s=(t+1)*i;return"/affairs/?order=".concat(e||"submitted-desc","&skip=").concat(r,"&limit=").concat(s)},a=(0,s.a)(),c=(0,r.ZP)(o,a.fetcher),l=c.data,d=c.error,u=c.mutate,f=c.size,x=c.setSize,h=!l&&!d,v=h||f>0&&l&&"undefined"===typeof l[f-1],p=0===(null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.length),m=p||l&&(null===(n=l[l.length-1])||void 0===n?void 0:n.length)<i;return{results:l,isLoading:!l,isError:d,mutate:u,size:f,setSize:x,isLoadingMore:v,isEmpty:p,isReachingEnd:m}}},41705:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var i=n(8100),r=n(83276);function s(){var e=(0,r.a)(),t=(0,i.ZP)("/councillors",e.fetcher),n=t.data;return{councillors:n,isLoading:!n,isError:t.error}}},22259:function(e,t,n){"use strict";n.d(t,{Ae:function(){return l},Pp:function(){return a},WB:function(){return c},u$:function(){return o}});var i=n(8100),r=n(44593),s=n(83276);function o(e){var t=(0,s.a)(),n=e?"/votes/?limit=".concat(e):"/votes",r=(0,i.ZP)(n,t.fetcher),o=r.data;return{votes:o,isLoading:!o,isError:r.error}}function a(e){var t=(0,s.a)(),n=e?"/votes/councillor/".concat(e):null,r=(0,i.ZP)(n,t.fetcher),o=r.data;return{votes:o,votesIsLoading:!o||!e,votesIsError:r.error}}function c(e){var t=(0,s.a)(),n=e?"/votes/affair/".concat(e):null,r=(0,i.ZP)(n,t.fetcher),o=r.data,a=r.error;return{votes:o,votesIsLoading:!o||!e,votesIsError:a}}function l(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fr",i=function(e,t){if(t&&!t.length)return null;var i=e*recordsPerPage,r=(e+1)*recordsPerPage;return r?"/votes/?language=".concat(n,"&skip=").concat(i,"&limit=").concat(r):"/votes"},o=(0,s.a)(),a=(0,r.ZP)(i,o.fetcher),c=a.data,l=a.error,d=a.size,u=a.setSize,f=!c&&!l,x=f||d>0&&c&&"undefined"===typeof c[d-1],h=0===(null===c||void 0===c||null===(e=c[0])||void 0===e?void 0:e.length),v=h||c&&(null===(t=c[c.length-1])||void 0===t?void 0:t.length)<recordsPerPage;return{isLoading:!c,results:c,size:d,setSize:u,isError:l,isLoadingMore:x,isEmpty:h,isReachingEnd:v}}},25233:function(e,t,n){"use strict";n.r(t),n.d(t,{SubmittedAffairs:function(){return H},UpdatedAffairs:function(){return T},VotedAffairs:function(){return I},default:function(){return N}});var i=n(85893),r=n(86886),s=n(22453),o=n(22259),a=n(41482),c=n(3291),l=n(41664),d=n.n(l),u=n(26447),f=n(15861),x=n(87357),h=n(93619);var v=function(e){var t=e.title,n=e.expandTitle,r=e.href;return(0,i.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",sx:{mb:3},children:[(0,i.jsx)(f.Z,{sx:{mr:1,fontSize:"18px",lineHeight:"14px",weight:"500"},children:t}),(0,i.jsx)(d(),{href:r,children:(0,i.jsxs)(u.Z,{direction:"row",alignItems:"center",sx:{cursor:"pointer"},children:[(0,i.jsx)(f.Z,{color:"primary",sx:{mr:1,fontSize:"11px",lineHeight:"15px"},children:n}),(0,i.jsx)(x.Z,{sx:{backgroundColor:"primary.main",p:" 1px 2px",borderRadius:"8px",height:"20px",width:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(h.Z,{sx:{color:"white",fontSize:"10px"}})})]})})]})},p=n(29815),m=n(36810),g=n(67294),j=n(81216),Z=n(69661),b=n(66242),_=n(94054),w=n(22224),y=n(18360),P=n(7906),L=n(295),S=n(53252),C=n(72882),z=n(53184),k=n(53816),E=n(41705),F=[{id:"avatar",label:"",minWidth:20},{id:"first_name",label:"first name",minWidth:100},{id:"last_name",label:"last name",minWidth:100},{id:"parl_group_name",label:"group",minWidth:100},{id:"canton_name",label:"state",minWidth:100}];function W(e){var t="/images/councillors/profile/".concat(e.id,".jpg"),n=e.first_name.charAt(0)+e.last_name.charAt(0);return(0,i.jsx)(Z.Z,{alt:n,src:t})}var A=function(){var e=(0,g.useState)(0),t=(e[0],e[1],(0,g.useState)(10)),n=(t[0],t[1],(0,E.t)()),r=n.councillors,s=n.isLoading,o=(0,g.useState)(""),a=o[0],c=o[1],l=(0,g.useState)(""),f=l[0],h=l[1],v=(0,g.useState)([]),Z=v[0],A=v[1];return(0,g.useEffect)((function(){var e=null===r||void 0===r?void 0:r.map((function(e){return e.parl_group_name}));A((0,p.Z)(new Set(e)))}),[r]),(0,i.jsxs)(b.Z,{children:[(0,i.jsxs)(u.Z,{direction:"row",sx:{p:6,display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)(m.L,{onchange:function(e){c(e.target.value)}}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(_.Z,{fullWidth:!0,children:(0,i.jsxs)(y.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",color:"info",value:f,onChange:function(e){h(e.target.value)},IconComponent:null,inputProps:{"aria-label":"Without label"},displayEmpty:!0,renderValue:function(e){return(0,i.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,i.jsx)(j.Z,{}),e||"All parties"]})},children:[(0,i.jsx)(w.Z,{value:"",children:(0,i.jsx)("em",{children:"All parties"})}),Z.map((function(e){return(0,i.jsx)(w.Z,{value:e,children:e})}))]})})})]}),(0,i.jsx)(C.Z,{sx:{maxHeight:440},children:(0,i.jsxs)(P.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,i.jsx)(z.Z,{children:(0,i.jsx)(k.Z,{children:F.map((function(e){return(0,i.jsx)(S.Z,{align:e.align,sx:{minWidth:e.minWidth},children:e.label},e.id)}))})}),(0,i.jsx)(L.Z,{children:!s&&(null===r||void 0===r?void 0:r.filter((function(e){return t=e,(!f||t.parl_group_name==f)&&!(a&&!(t.first_name.toLowerCase().includes(a.toLowerCase())||t.last_name.toLowerCase().includes(a.toLowerCase())||"".concat(t.first_name.toLowerCase()," ").concat(t.last_name.toLowerCase()).includes(a.toLowerCase())));var t})).map((function(e){return(0,i.jsx)(d(),{href:"/councillors/".concat(e.id),children:(0,i.jsx)(k.Z,{hover:!0,role:"checkbox",tabIndex:-1,sx:{cursor:"pointer"},children:F.map((function(t,n){var r=e[t.id];return(0,i.jsx)(S.Z,{align:t.align,children:0==n?W(e):r},t.id)}))},e.code)})})))})]})})]})};function H(e){var t=e.affairs,n=e.isLoading;return(0,i.jsxs)(r.ZP,{item:!0,md:12,sx:{mt:8},children:[(0,i.jsx)(v,{title:"Latest affairs",expandTitle:"See all submitted affairs",href:"/affairs/?order=submitted-desc"}),(0,i.jsx)(r.ZP,{container:!0,spacing:2,alignItems:"stretch",children:!n&&t.map((function(e){return(0,i.jsx)(r.ZP,{item:!0,md:3,children:(0,i.jsx)(a.Z,{affair:e})},e.id)}))})]})}function I(e){var t=e.votes,n=e.isLoading;return(0,i.jsxs)(r.ZP,{item:!0,md:12,sx:{mt:8},children:[(0,i.jsx)(v,{title:"Latest votes",expandTitle:"See all votes",href:"/votes/"}),(0,i.jsx)(r.ZP,{container:!0,spacing:2,alignItems:"stretch",children:!n&&t.map((function(e){return(0,i.jsx)(r.ZP,{item:!0,md:3,children:(0,i.jsx)(c.Z,{vote:e})},e.vote_id)}))})]})}function T(e){var t=e.affairs,n=e.isLoading;return(0,i.jsxs)(r.ZP,{item:!0,md:12,sx:{mt:8},children:[(0,i.jsx)(v,{title:"Latest updates",expandTitle:"See all updated affairs",href:"/affairs/?order=updated-desc"}),(0,i.jsx)(r.ZP,{container:!0,spacing:2,alignItems:"stretch",children:!n&&t.map((function(e){return(0,i.jsx)(r.ZP,{item:!0,md:3,children:(0,i.jsx)(a.Z,{affair:e})},e.id)}))})]})}var N=function(){var e=(0,s.kf)("submitted-desc",8),t=e.affairs,n=e.isLoading,a=(0,s.kf)("updated-desc",8),c=a.affairs,l=a.isLoading,d=(0,o.u$)(8),u=d.votes,f=d.isLoading;return(0,i.jsx)(r.ZP,{container:!0,children:(0,i.jsx)(r.ZP,{item:!0,xs:12,children:(0,i.jsxs)(r.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,i.jsx)(T,{affairs:c,isLoading:l}),(0,i.jsx)(I,{votes:u,isLoading:f}),(0,i.jsx)(H,{affairs:t,isLoading:n}),(0,i.jsxs)(r.ZP,{item:!0,md:12,sx:{mt:8},children:[(0,i.jsx)(v,{title:"Councillors",expandTitle:"See all councillors",href:"/councillors"}),(0,i.jsx)(A,{})]})]})})})}},3291:function(e,t,n){"use strict";var i=n(85893),r=n(41664),s=n.n(r),o=n(67599),a=n(84918),c=n(87357),l=n(26447),d=n(93946),u=n(11496),f=n(66242),x=n(44267),h=n(15861),v=n(41800),p=n(60058),m=(0,u.ZP)(h.Z)({fontWeight:500,fontSize:"12px",lineHeight:"16px",color:"#9FABC6"}),g=(0,u.ZP)(h.Z)({fontSize:"12px",fontWeight:"600",lineHeight:"18px",color:"#000000",letterSpacing:"0em",cursor:"pointer"});t.Z=function(e){var t=e.vote,n=e.followOnTop,r=void 0===n||n,u={pathname:"/votes/[id]",query:{id:t.vote_id}};return(0,i.jsx)(f.Z,{variant:"outlined",sx:{height:"100%",minWidth:"270px",maxWidth:"320px"},children:(0,i.jsxs)(x.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)(l.Z,{direction:"row",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(v.Z,{label:"Federal Council"}),r&&(0,i.jsx)(d.Z,{color:"primary","aria-label":"follow",sx:{p:0},children:(0,i.jsx)(o.Z,{})})]}),(0,i.jsx)(s(),{href:u,passHref:!0,children:(0,i.jsx)(g,{sx:{mt:2},children:t.affair_title})}),(0,i.jsxs)(l.Z,{direction:"row",spacing:4,sx:{mt:1},children:[(0,i.jsx)(m,{children:t.affair_short_number}),(0,i.jsxs)(m,{children:[(0,i.jsx)(a.Z,{fontSize:"xs"})," ",t.vote_date]})]})]}),(0,i.jsx)(p.Z,{vote:t,variant:"compact",sx:{mt:3}})]})})}},11303:function(e,t,n){"use strict";n.d(t,{r:function(){return o},s:function(){return a}});var i=n(85893),r=n(87357),s=n(41800);function o(e){var t,n;switch(e.outcome.toLowerCase()){case"yes":t="Yes",n="mauve";break;case"no":t="No",n="pink";break;case"abstention":t="Abst",n="ocean"}return(0,i.jsx)(s.Z,{label:t,variant:n,sx:{width:"52px"}})}function a(e){var t=e.outcome;return t&&["yes","no","abstention"].includes(t.toLowerCase())?(0,i.jsx)(r.Z,{width:52,height:23}):null}},60058:function(e,t,n){"use strict";var i=n(85893),r=n(11496),s=n(87357),o=n(67720),a=n(26447),c=n(15861),l=n(11303),d=(0,r.ZP)(c.Z)({marginTop:5,fontWeight:600,fontSize:"12px",lineHeight:"10px",color:"#54658C",textAlign:"center"}),u=(0,r.ZP)(c.Z)({fontWeight:500,fontSize:"13px",lineHeight:"16px",color:"#000000"}),f=(0,r.ZP)(c.Z)({fontWeight:400,fontSize:"14px",lineHeight:"18px",color:"#60739F"}),x=(0,r.ZP)(c.Z)({fontWeight:600,fontSize:"14px",lineHeight:"20px",color:"#000000"}),h=(0,r.ZP)(c.Z)({fontWeight:300,fontSize:"14px",lineHeight:"20px",color:"#000000"});function v(e){var t=e.count;return(0,i.jsxs)(f,{children:["Excused/absent: ",t," councillors"]})}function p(e){var t=e.vote,n=e.variant,r=e.whiteBg,c={fontSize:"compact"===n?"12px":"14px",lineHeight:"compact"===n?"16px":"20px"},l={xs:"100%",md:"compact"===n?"100%":"33%"};return(0,i.jsx)(i.Fragment,{children:t.meaning_yes&&t.meaning_no&&(0,i.jsx)(s.Z,{backgroundColor:r?"#FFF":"#FAFBFF",p:4,sx:{maxWidth:l},children:(0,i.jsxs)(a.Z,{direction:"row",spacing:5,divider:(0,i.jsx)(o.Z,{orientation:"vertical",flexItem:!0}),children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(x,{sx:c,children:"Yes"}),(0,i.jsx)(h,{sx:c,children:t.meaning_yes})]}),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(x,{sx:c,children:"No"}),(0,i.jsx)(h,{sx:c,children:t.meaning_no})]})]})})})}function m(e){var t,n,r=e.value,o=e.width,a=e.type,c=e.variant,l="compact"===c?40:10;switch(a){case"yes":t="#8D91FF",n=r>l?"Yes: "+r:r;break;case"abstention":t="#A3E4F9",n=r>l?"Abst: "+r:r;break;case"no":t="#F9A3E1",n=r>l?"No: "+r:r}return(0,i.jsxs)(s.Z,{width:o,flexDirection:"column",children:[(0,i.jsx)(s.Z,{width:"100%",height:"compact"===c?12:20,backgroundColor:t,borderRadius:"3px"}),(0,i.jsx)(d,{children:n})]})}function g(e){var t=e.vote,n=e.variant,r=t.yes_count+t.abstention_count+t.no_count,o=t.absence_count+t.excused_count+t.did_not_participate_count;return(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)(a.Z,{direction:"row",spacing:1,sx:{mb:2},children:[t.yes_count>0?(0,i.jsx)(m,{value:t.yes_count,width:t.yes_count/r,type:"yes",variant:n}):(0,i.jsx)(i.Fragment,{}),t.abstention_count?(0,i.jsx)(m,{value:t.abstention_count,width:t.abstention_count/r,type:"abstention",variant:n}):(0,i.jsx)(i.Fragment,{}),t.no_count?(0,i.jsx)(m,{value:t.no_count,width:t.no_count/r,type:"no",variant:n}):(0,i.jsx)(i.Fragment,{})]}),"compact"===n?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(v,{count:o})]})}t.Z=function(e){var t=e.vote,n=e.variant,r=void 0===n?"default":n,s=e.whiteBg,o=void 0!==s&&s,c=e.sx,d=void 0===c?{}:c,f=t.vote_result>.5?"Yes":"No",x=(100*t.vote_result).toFixed(0);return(0,i.jsxs)(a.Z,{direction:"column",spacing:"compact"===r?2:5,sx:d,children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,i.jsx)(l.r,{outcome:f}),(0,i.jsxs)(u,{children:[x,"%",t.vote_title?" \u2013 "+t.vote_title:""]})]}),(0,i.jsx)(g,{vote:t,variant:r}),(0,i.jsx)(p,{vote:t,variant:r,whiteBg:o})]})}},828:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(13375);var r=n(91566);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,i.Z)(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[143,411,105,482,774,888,179],(function(){return t=77183,e(e.s=t);var t}));var t=e.O();_N_E=t}]);