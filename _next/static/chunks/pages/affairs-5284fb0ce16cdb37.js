(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{19333:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/affairs",function(){return i(31601)}])},22453:function(n,e,i){"use strict";i.d(e,{gm:function(){return c},kf:function(){return o}});var r=i(8100),t=i(44593),a=i(83276);function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"submitted-desc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=(0,a.a)(),t="/affairs/?order=".concat(n,"&limit=").concat(e),o=(0,r.ZP)(t,i.fetcher),c=o.data,s=o.error;return{affairs:c,isLoading:!c,isError:s}}function c(n){var e,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=function(e,i){if(i&&!i.length)return null;var t=e*r,a=(e+1)*r;return"/affairs/?order=".concat(n||"submitted-desc","&skip=").concat(t,"&limit=").concat(a)},c=(0,a.a)(),s=(0,t.ZP)(o,c.fetcher),u=s.data,d=s.error,l=s.mutate,f=s.size,h=s.setSize,g=!u&&!d,p=g||f>0&&u&&"undefined"===typeof u[f-1],m=0===(null===u||void 0===u||null===(e=u[0])||void 0===e?void 0:e.length),v=m||u&&(null===(i=u[u.length-1])||void 0===i?void 0:i.length)<r;return{results:u,isLoading:!u,isError:d,mutate:l,size:f,setSize:h,isLoadingMore:p,isEmpty:m,isReachingEnd:v}}},31601:function(n,e,i){"use strict";i.r(e);var r=i(51351),t=i(85893),a=i(11163),o=(i(67294),i(26447)),c=i(83321),s=i(86886),u=i(22453),d=i(41482);function l(n){n=null!==n?n:(0,r.Z)(new TypeError("Cannot destructure undefined"));var e=(0,a.useRouter)(),i=e.query.order,l=(0,u.gm)(i),f=l.results,h=l.isLoading,g=l.size,p=l.setSize,m=l.isLoadingMore,v=l.isReachingEnd;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{direction:"row",spacing:2,sx:{pt:3,pb:3},children:(0,t.jsx)(c.Z,{variant:i&&"updated"==i.split("-")[0]?"contained":"outlined",size:"small",color:"info",onClick:function(){return function(n){var r=n!==i?n:"";e.push({pathname:"/affairs/",query:r?{order:r}:{}},void 0,{shallow:!0})}("updated-desc")},children:"Recently updated"})}),(0,t.jsx)(s.ZP,{container:!0,spacing:4,children:!h&&(0,t.jsxs)(t.Fragment,{children:[f.map((function(n){return n.map((function(n,e){return(0,t.jsx)(s.ZP,{item:!0,md:3,children:(0,t.jsx)(d.Z,{affair:n})},"".concat(n.id,"-").concat(e,"-").concat(i))}))})),(0,t.jsx)(s.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",sx:{p:5},children:(0,t.jsx)(c.Z,{onClick:function(){return p(g+1)},disabled:m||v,children:m?"Loading...":v?"":"Load more"})})]})})]})}l.acl={action:"read",subject:"acl-page"},e.default=l}},function(n){n.O(0,[143,189,482,774,888,179],(function(){return e=19333,n(n.s=e);var e}));var e=n.O();_N_E=e}]);